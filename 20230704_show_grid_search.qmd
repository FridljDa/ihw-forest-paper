---
title: "display_grid_search"
author: "Daniel Fridljand"
format: html
editor: visual
---

Find latest files

```{r}
# Set the directory path
directory <- "grid_search/data"

# List all the files in the directory
files <- list.files(directory)

# Initialize variables for the latest date and corresponding files
latest_date <- as.Date("1970-01-01")  # Set an initial date
latest_files <- character(0)  # Create an empty character vector

# Loop through the files and find the latest date
for (file in files) {
  # Extract the date from the file name
  date_str <- sub("^([0-9]{4}-[0-9]{2}-[0-9]{2}).*$", "\\1", file)
  
  # Parse the date string into a Date object
  date <- as.Date(date_str)
  
  # Check if the current date is greater than the latest date found so far
  if (date > latest_date) {
    latest_date <- date
    latest_files <- character(0)  # Reset the vector
    
    # Add the current file to the latest_files vector
    latest_files <- c(latest_files, file)
  } else if (date == latest_date) {
    # Add the current file to the latest_files vector if it has the same date as the latest date
    latest_files <- c(latest_files, file)
  }
}

# Print the files with the latest date
print(latest_files)

```

```{r}
# Load the required packages
library(purrr)
library(data.table)

# Set the directory path
directory <- "grid_search/data"

# List all the files in the directory
files <- list.files(directory)

# Extract the date from the file names
dates <- stringr::str_extract(files, "\\d{4}-\\d{2}-\\d{2}")

# Identify the latest date
latest_date <- max(as.Date(dates))

# Filter files with the latest date
latest_files <- files[dates == latest_date]

# Read and combine the files with the latest date using purrr and rbindlist
combined_data <- map_dfr(latest_files, ~ fread(file.path(directory, .x)))

# Print the combined data
print(combined_data)

```

```{r}
# Load the required packages
library(purrr)
library(data.table)

# Set the directory path
directory <- "grid_search/data"

# List all the files in the directory
files <- list.files(directory)

# Extract the date from the file names
dates <- str_extract(files, "\\d{4}-\\d{2}-\\d{2}")

# Identify the latest date
latest_date <- max(as.Date(dates))

# Filter files with the latest date
# Load the required packages
library(purrr)
library(data.table)

# Set the directory path
directory <- "grid_search/data"

# List all the files in the directory
files <- list.files(directory)

# Extract the date from the file names
dates <- str_extract(files, "\\d{4}-\\d{2}-\\d{2}")

# Identify the latest date
latest_date <- max(as.Date(dates))

# Filter files with the latest date
latest_files <- files[dates == latest_date]

# Read and combine the files with the latest date using purrr and rbindlist
combined_data <- map_dfr(latest_files, ~ fread(file.path(directory, .x)))

# Print the combined data
print(combined_data)
 <- files[dates == latest_date]

# Read and combine the files with the latest date using purrr and rbindlist
combined_data <- map_dfr(latest_files, ~ fread(file.path(directory, .x)))

# Print the combined data
print(combined_data)

```

You can add options to executable code like this

```{r}
#| echo: false

```
